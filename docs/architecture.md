---
title: Архитектура
---

# Архитектура реализации

1. **Лексер** (`src/lexer.c`): один проход, UTF‑8, ключевые слова и символы
2. **Парсер** (`src/parser.c`): Pratt‑парсер с приоритетами
3. **Десугаринг** (`src/desugar.c`): плейсхолдер `_`, списки и `let`
4. **Eval** (`src/eval.c`): Krivine‑машина, thunks, call‑by‑need
5. **Рантайм** (`src/runtime.c`): примитивы IO и file‑IO
6. **REPL** (`src/repl.c`) & **batch** (`src/interpretator.c`)

## Память и GC

- Bump‑arena allocator: один гигабайтный буфер (malloc) и просто смещение
- Без остановки мира и сложного сборщика

## Таблица имён

- Лексические блоки и контексты
- Поддержка вложенных `let`, `let rec` и функций (команды `func ... end`)

[prev: Синтаксис](syntax.md) • [next: Стандартная библиотека](stdlib.md)
