
# Установка Rephi

Этот раздел подробно описывает, как подготовить среду разработки, собрать интерпретатор и установить стандартную библиотеку **Rephi**.

## 1. Системные требования

Для сборки и работы Rephi потребуется:

* **Компилятор C** с поддержкой стандарта **C17** (например, GCC версии ≥ 9 или Clang ≥ 10).
* **make** (GNU Make) для управления процессом сборки.
* **UNIX-подобная ОС** (Linux, macOS, BSD). На Windows рекомендуется использовать WSL или Cygwin.

Дополнительно:

* **Git** для клонирования репозитория.
* Права записи в каталог установки (`/usr/local` или другой, указанный через `DESTDIR`).

## 2. Клонирование репозитория

Сначала склонируйте проект с GitHub в локальный каталог:

```bash
git clone https://github.com/MAILabs-Education-2025/fp-compiler-coursework-rephi.git
cd fp-compiler-coursework-rephi
```

## 3. Сборка интерпретатора

В корне репозитория вызовите команду:

```bash
make
```

По умолчанию Makefile использует следующие настройки:

* **CC**: gcc (можно переопределить, например `make CC=clang`)
* **CFLAGS**: `-std=c17 -Wall -Wextra -pedantic -O2 -D_GNU_SOURCE -D_POSIX_C_SOURCE=200809L`
* **INC**: `-Iinclude`

После успешной сборки в корне появится исполняемый файл:

```
./rephi
```

Вы можете сразу запустить REPL или передать имя скрипта:

```bash
./rephi           # вход в интерактивную оболочку
./rephi program.re  # выполнение файла program.re
```

## 4. Установка стандартной библиотеки

Rephi поставляется с набором модулей на языке `.re` (stdlib) для базовых функций:

* **prelude.re** — основные функции над списками и парами
* **io.re**     — объявления примитивов ввода-вывода
* **file\_io.re**— функции работы с файловой системой

Чтобы сделать эти модули доступными глобально, возможно, необходимо будет выполнить:

```bash
make install-stdlib DESTDIR=/usr/local
```

По умолчанию модули будут скопированы в:

```
/usr/local/share/rephi/stdlib
```

> **Важно:** при установке в нестандартный путь измените значение `DESTDIR` на нужный каталог.

## 5. Проверка установки

После сборки и установки stdlib убедитесь, что Rephi запускается без ошибок:

```bash
./rephi
rephi> 1 + 2 * 3
7
rephi>
```

Если вы видите корректный ответ и приглашение `rephi>`, установка прошла успешно.

